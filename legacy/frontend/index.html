<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DWARF II Control</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <header class="header">
        <h1>ğŸ”­ DWARF II Control</h1>
        <div class="connection-status">
            <span class="status-indicator" id="statusIndicator"></span>
            <span id="statusText">Nicht verbunden</span>
        </div>
    </header>

    <nav class="nav">
        <button class="nav-btn active" data-view="connection">ğŸ”Œ Verbindung</button>
        <button class="nav-btn" data-view="camera">ğŸ“· Kamera</button>
        <button class="nav-btn" data-view="astro">ğŸŒŒ Astro</button>
        <button class="nav-btn" data-view="focus">ğŸ¯ Fokus</button>
        <button class="nav-btn" data-view="motor">ğŸ•¹ï¸ Motor</button>
        <button class="nav-btn" data-view="album">ğŸ–¼ï¸ Album</button>
    </nav>

    <main class="main">
        <section class="view active" id="connectionView">
            <h2>Verbindung</h2>
            <div class="card">
                <h3>GerÃ¤t suchen</h3>
                <p class="info-text">Sucht automatisch nach DWARF II im Netzwerk (scannt alle 254 IPs)</p>
                <div class="form-group">
                    <label>Netzwerk (optional)</label>
                    <input type="text" id="scanSubnet" placeholder="z.B. 192.168.8 oder leer fÃ¼r Auto-Scan">
                    <small style="color: var(--text-secondary);">Leer = Scannt 192.168.88, 192.168.8, 192.168.1, etc.</small>
                </div>
                <button class="btn btn-primary" id="scanBtn">ğŸ” Netzwerk scannen</button>
                <div id="scanResults" class="scan-results"></div>
            </div>

            <div class="card">
                <h3>GerÃ¤t verbinden</h3>
                <div class="form-group">
                    <label>IP-Adresse</label>
                    <input type="text" id="deviceIp" value="192.168.88.1" placeholder="192.168.88.1">
                </div>
                <div class="form-group">
                    <label>Port</label>
                    <input type="number" id="devicePort" value="8082" placeholder="8082">
                </div>
                <div class="button-row">
                    <button class="btn btn-primary" id="connectBtn">Verbinden</button>
                    <button class="btn" id="disconnectBtn" style="display:none;">Trennen</button>
                </div>
            </div>
            <div class="card" id="deviceInfo" style="display:none;"></div>
        </section>

        <section class="view" id="albumView">
            <h2>Album</h2>
            <div class="card connection-required" style="display:none;">
                <p class="info-text" style="text-align:center; color:var(--text-secondary);">
                    âš ï¸ Bitte erst verbinden unter "ğŸ”Œ Verbindung"
                </p>
            </div>
            <div class="card controls-container" style="display:none;">
                <div class="album-toolbar">
                    <div class="form-group">
                        <label>Medientyp</label>
                        <select id="albumMediaType">
                            <option value="1">ğŸ“· Fotos</option>
                            <option value="2">ğŸ¥ Videos</option>
                            <option value="3">ğŸ“¸ Serien</option>
                            <option value="4">ğŸŒŒ Astro</option>
                            <option value="5">ğŸ“¸ Panorama</option>
                            <option value="0">ğŸ“ Alle</option>
                        </select>
                    </div>
                    <div class="album-toolbar-actions">
                        <button class="btn" id="albumRefreshBtn">ğŸ”„ Aktualisieren</button>
                    </div>
                </div>

                <div class="album-counts" id="albumCounts"></div>

                <div class="album-pagination">
                    <button class="btn" id="albumPrevBtn">â† ZurÃ¼ck</button>
                    <span id="albumPageInfo">Seite 1</span>
                    <button class="btn" id="albumNextBtn">Weiter â†’</button>
                </div>

                <div class="album-list" id="albumList">
                    <div class="album-empty">Noch keine Medien geladen</div>
                </div>
            </div>
        </section>

        <section class="view" id="cameraView">
            <h2>Kamera</h2>
            <div class="card connection-required" style="display:none;">
                <p class="info-text" style="text-align:center; color:var(--text-secondary);">
                    âš ï¸ Bitte erst verbinden unter "ğŸ”Œ Verbindung"
                </p>
            </div>
            <div class="card controls-container" style="display:none;">
                <h3>Kamera-Steuerung</h3>
                <div class="button-row">
                    <button class="btn" id="teleOpenBtn">Ã–ffnen</button>
                    <button class="btn" id="teleCloseBtn">SchlieÃŸen</button>
                </div>
            </div>
            
            <div class="card camera-required" style="display:none;">
                <p class="info-text" style="text-align:center; color:var(--text-secondary);">
                    ğŸ“· Bitte erst Kamera Ã¶ffnen (Button oben)
                </p>
            </div>
            
            <div class="card camera-controls" style="display:none;">
                <h3>Aufnahme</h3>
                <div class="button-row">
                    <button class="btn btn-primary" id="telePhotoBtn">ğŸ“· Foto</button>
                    <button class="btn" id="teleVideoStartBtn">ğŸ¥ Video Start</button>
                    <button class="btn" id="teleVideoStopBtn">â¹ï¸ Video Stop</button>
                </div>
            </div>
            
            <div class="card camera-controls" style="display:none;">
                <h3>Live-Stream</h3>
                <div class="stream-container">
                    <img id="liveStream" alt="Live Stream">
                    <div class="stream-placeholder" id="streamPlaceholder">
                        <p>ğŸ“¹</p>
                        <p>Kein Stream</p>
                    </div>
                </div>
                <div class="button-row">
                    <button class="btn btn-primary" id="streamStartBtn">Stream starten</button>
                    <button class="btn" id="streamStopBtn">Stream stoppen</button>
                </div>
            </div>
        </section>

        <section class="view" id="astroView">
            <h2>Astronomie</h2>
            <div class="card connection-required" style="display:none;">
                <p class="info-text" style="text-align:center; color:var(--text-secondary);">
                    âš ï¸ Bitte erst verbinden unter "ğŸ”Œ Verbindung"
                </p>
            </div>
            
            <div class="card controls-container" style="display:none;">
                <h3>Kalibrierung</h3>
                <div class="button-row">
                    <button class="btn btn-primary" id="calibrationStartBtn">Start</button>
                    <button class="btn" id="calibrationStopBtn">Stop</button>
                </div>
            </div>
            
            <div class="card controls-container" style="display:none;">
                <h3>GOTO</h3>
                <div class="form-group">
                    <label>Target Name</label>
                    <input type="text" id="gotoTarget" placeholder="M31">
                </div>
                <div class="form-group">
                    <label>RA (Stunden)</label>
                    <input type="number" id="gotoRa" placeholder="0.712" step="0.001">
                </div>
                <div class="form-group">
                    <label>Dec (Grad)</label>
                    <input type="number" id="gotoDec" placeholder="41.269" step="0.001">
                </div>
                <div class="button-row">
                    <button class="btn btn-primary" id="gotoDsoBtn">GOTO Start</button>
                    <button class="btn" id="gotoStopBtn">GOTO Stop</button>
                </div>
            </div>
            
            <div class="card controls-container" style="display:none;">
                <h3>Stacking</h3>
                <div class="button-row">
                    <button class="btn btn-primary" id="stackingStartBtn">Start</button>
                    <button class="btn" id="stackingStopBtn">Stop</button>
                </div>
            </div>
        </section>

        <section class="view" id="focusView">
            <h2>Fokus</h2>
            <div class="card connection-required" style="display:none;">
                <p class="info-text" style="text-align:center; color:var(--text-secondary);">
                    âš ï¸ Bitte erst verbinden unter "ğŸ”Œ Verbindung"
                </p>
            </div>
            
            <div class="card controls-container" style="display:none;">
                <h3>Auto-Fokus</h3>
                <button class="btn btn-primary" id="autoFocusBtn">Auto-Fokus starten</button>
            </div>
            
            <div class="card controls-container" style="display:none;">
                <h3>Astro-Fokus</h3>
                <div class="button-row">
                    <button class="btn" id="astroFocusSlowBtn">Langsam</button>
                    <button class="btn" id="astroFocusFastBtn">Schnell</button>
                    <button class="btn" id="astroFocusStopBtn">Stop</button>
                </div>
            </div>
            
            <div class="card controls-container" style="display:none;">
                <h3>Manueller Fokus</h3>
                <div class="button-row">
                    <button class="btn" id="focusFarBtn">â† Fern</button>
                    <button class="btn" id="focusNearBtn">Nah â†’</button>
                </div>
            </div>
        </section>

        <section class="view" id="motorView">
            <h2>Motor</h2>
            <div class="card connection-required" style="display:none;">
                <p class="info-text" style="text-align:center; color:var(--text-secondary);">
                    âš ï¸ Bitte erst verbinden unter "ğŸ”Œ Verbindung"
                </p>
            </div>
            
            <div class="card controls-container" style="display:none;">
                <h3>Richtungs-Steuerung</h3>
                <div class="direction-pad">
                    <div class="dir-row">
                        <button class="btn dir-btn" id="motorUpBtn">â†‘</button>
                    </div>
                    <div class="dir-row">
                        <button class="btn dir-btn" id="motorLeftBtn">â†</button>
                        <button class="btn" id="motorStopBtn">â¹ï¸ Stop</button>
                        <button class="btn dir-btn" id="motorRightBtn">â†’</button>
                    </div>
                    <div class="dir-row">
                        <button class="btn dir-btn" id="motorDownBtn">â†“</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script type="module" src="js/main.js"></script>
</body>
</html>
